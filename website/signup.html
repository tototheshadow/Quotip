<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Quotip : Quotes Everyday</title>

    <link rel="icon" href="img/quotip_logo.png" type="image/x-icon">
    <link rel="stylesheet" href="style/main-style.css">
    <!-- <link rel="stylesheet" href="style/login-style.css"> -->
</head>
<body>
    
    <header class="flex-container-row">
        <span class="left-margin-15"><img src="img/quotip_logo.png" alt=""></span>
        <h1 class="color-white"><a href="index.html">Quotip</a></h1>
        <nav class="width-100" id="nav-top-left">
            <ul id="left-nav">
                <li><a href="#about-us">About Us</a></li>
                <li><a href="quotes.html">Get Quotes</a></li>    
            </ul>          
        </nav>
        
        <nav class="width-100" id="nav-top-right">
            <ul id="right-nav" style="display: flex; align-items: flex-end; justify-content: flex-end;">
                <li><a href="login.html">Login</a></li>
                <li><a href="signup.html">Sign-Up</a></li>                
            </ul> 
        </nav>        
       
    </header>
    
    <main class="top-margin-30">    
        <div id="main-content" class="flex-container-column align-items-center ">
            <!-- <button id="but" class="but">Show</button> -->
            <!-- <div id="modal-login" class="modal flex-container-column justify-content-center align-items-center article">       -->
                <div action="" class="modal-content bottom-margin-30 login-signup flex-container-column align-items-center justify-content-center">
                                                
                    <h2 class="top-margin-15">SIGN-UP</h2>
                    <span class="width-100"><b>Username</b></span>                  
                    <input id="text-username" class="top-margin-15" type="text" name="text-username" placeholder="Username">
                    <span class="width-100"><b>Password</b></span>  
                    <input id="text-password" class="top-margin-15 bottom-margin-15" type="password" name="text-password" placeholder="Password">
                    <span class="width-100"><b>Repeat Password</b></span>  
                    <input id="text-repeat-password" class="top-margin-15 bottom-margin-15" type="password" name="text-repeat-password" placeholder="Repeat Password">
                    

                    <button class="top-margin-15 bottom-margin-15" id="button-signup">SIGN-UP</button>   
                    <a href="login.html">Already have account? Go Login.</a>                 
                </div>                
                                
            <!-- </div> -->

            <article class="article-2 top-margin-30">

            </article>
              <article class="article-2 top-margin-30">

            </article>
           

        </div> 
        
        
    </main>

        

    <footer>
        <p class="no-top-margin no-bottom-margin">Copyright Â© 2022 Quotip. All rights reserved.</p>        
    </footer>

<script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>
<script>

    function logout(){
        localStorage.clear();
    }
    var session_username = localStorage.getItem("username");   
    if(session_username != "" && session_username != null)
    {
        var left_nav = document.getElementById("left-nav").innerHTML;
        left_nav += '<li><a href="history.html">History</a></li>';
        document.getElementById("left-nav").innerHTML = left_nav;

        // var right_nav = document.getElementById("right-nav");
        // right_nav.innerHTML = "<li><a>Hello "+session_username+"</a></li>" +
        //                       "<li><a href='login.html' onclick='logout()'>Logout</a></li>";


    }

     $("#button-signup").on("click",function(){      
        
        var uname = document.getElementById("text-username").value;
        var psw = document.getElementById("text-password").value;
        var repsw = document.getElementById("text-repeat-password").value;       
        
        
        if(psw != repsw){
            alert("Your Password and Repeat Password is different!.");
        }
        else{
            
            $.ajax({
                url:"test_json/signup.php",
                data:{
                    username: uname,
                    password: psw
                },
                method:"post",
                success:function(data){
                    var result = JSON.parse(data);
                    if(result.message != "OK"){
                        alert(result.message);
                    }
                    else{
                        alert("Welcome " + uname +", proceed to login.");  
                        window.location.href = "login.html";
                                                            
                    }
                                    
                }
            });
        }

        
    });
   
</script>

</body>

</html>